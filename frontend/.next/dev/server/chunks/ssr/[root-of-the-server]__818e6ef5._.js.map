{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///home/dan/Projects/headstarter/x_recommend/frontend/lib/api.ts"],"sourcesContent":["import { FeedResponse, Notification, Trend, Post, User } from \"./types\";\n\nconst API_URL = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:8000\";\n\nexport async function fetchFeed(params: Record<string, string | number>) {\n  const query = new URLSearchParams();\n  Object.entries(params).forEach(([key, value]) => query.set(key, String(value)));\n  const res = await fetch(`${API_URL}/feed?${query.toString()}`, { cache: \"no-store\" });\n  if (!res.ok) {\n    throw new Error(\"Failed to fetch feed\");\n  }\n  return (await res.json()) as FeedResponse;\n}\n\nexport async function fetchTrends() {\n  const res = await fetch(`${API_URL}/trends`, { cache: \"no-store\" });\n  return (await res.json()) as Trend[];\n}\n\nexport async function fetchNotifications(userId: number) {\n  const res = await fetch(`${API_URL}/notifications?user_id=${userId}`, { cache: \"no-store\" });\n  return (await res.json()) as Notification[];\n}\n\nexport async function fetchUser(userId: number) {\n  const res = await fetch(`${API_URL}/users/${userId}`, { cache: \"no-store\" });\n  return (await res.json()) as User;\n}\n\nexport async function fetchUserPosts(userId: number) {\n  const res = await fetch(`${API_URL}/users/${userId}/posts`, { cache: \"no-store\" });\n  return (await res.json()) as Post[];\n}\n\nexport async function fetchFollowers(userId: number) {\n  const res = await fetch(`${API_URL}/users/${userId}/followers`, { cache: \"no-store\" });\n  return (await res.json()) as User[];\n}\n\nexport async function fetchFollowing(userId: number) {\n  const res = await fetch(`${API_URL}/users/${userId}/following`, { cache: \"no-store\" });\n  return (await res.json()) as User[];\n}\n\nexport async function simulateStep(steps = 1) {\n  await fetch(`${API_URL}/simulate/step?steps=${steps}`, { method: \"POST\" });\n}\n\nexport async function fetchGraph() {\n  const res = await fetch(`${API_URL}/graph`, { cache: \"no-store\" });\n  return (await res.json()) as {\n    nodes: { id: number; handle: string; persona_type: string }[];\n    edges: { source: number; target: number }[];\n  };\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAEA,MAAM,UAAU,6DAAmC;AAE5C,eAAe,UAAU,MAAuC;IACrE,MAAM,QAAQ,IAAI;IAClB,OAAO,OAAO,CAAC,QAAQ,OAAO,CAAC,CAAC,CAAC,KAAK,MAAM,GAAK,MAAM,GAAG,CAAC,KAAK,OAAO;IACvE,MAAM,MAAM,MAAM,MAAM,GAAG,QAAQ,MAAM,EAAE,MAAM,QAAQ,IAAI,EAAE;QAAE,OAAO;IAAW;IACnF,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,IAAI,MAAM;IAClB;IACA,OAAQ,MAAM,IAAI,IAAI;AACxB;AAEO,eAAe;IACpB,MAAM,MAAM,MAAM,MAAM,GAAG,QAAQ,OAAO,CAAC,EAAE;QAAE,OAAO;IAAW;IACjE,OAAQ,MAAM,IAAI,IAAI;AACxB;AAEO,eAAe,mBAAmB,MAAc;IACrD,MAAM,MAAM,MAAM,MAAM,GAAG,QAAQ,uBAAuB,EAAE,QAAQ,EAAE;QAAE,OAAO;IAAW;IAC1F,OAAQ,MAAM,IAAI,IAAI;AACxB;AAEO,eAAe,UAAU,MAAc;IAC5C,MAAM,MAAM,MAAM,MAAM,GAAG,QAAQ,OAAO,EAAE,QAAQ,EAAE;QAAE,OAAO;IAAW;IAC1E,OAAQ,MAAM,IAAI,IAAI;AACxB;AAEO,eAAe,eAAe,MAAc;IACjD,MAAM,MAAM,MAAM,MAAM,GAAG,QAAQ,OAAO,EAAE,OAAO,MAAM,CAAC,EAAE;QAAE,OAAO;IAAW;IAChF,OAAQ,MAAM,IAAI,IAAI;AACxB;AAEO,eAAe,eAAe,MAAc;IACjD,MAAM,MAAM,MAAM,MAAM,GAAG,QAAQ,OAAO,EAAE,OAAO,UAAU,CAAC,EAAE;QAAE,OAAO;IAAW;IACpF,OAAQ,MAAM,IAAI,IAAI;AACxB;AAEO,eAAe,eAAe,MAAc;IACjD,MAAM,MAAM,MAAM,MAAM,GAAG,QAAQ,OAAO,EAAE,OAAO,UAAU,CAAC,EAAE;QAAE,OAAO;IAAW;IACpF,OAAQ,MAAM,IAAI,IAAI;AACxB;AAEO,eAAe,aAAa,QAAQ,CAAC;IAC1C,MAAM,MAAM,GAAG,QAAQ,qBAAqB,EAAE,OAAO,EAAE;QAAE,QAAQ;IAAO;AAC1E;AAEO,eAAe;IACpB,MAAM,MAAM,MAAM,MAAM,GAAG,QAAQ,MAAM,CAAC,EAAE;QAAE,OAAO;IAAW;IAChE,OAAQ,MAAM,IAAI,IAAI;AAIxB"}},
    {"offset": {"line": 93, "column": 0}, "map": {"version":3,"sources":["file:///home/dan/Projects/headstarter/x_recommend/frontend/components/GraphClient.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useMemo, useState } from \"react\";\nimport { fetchGraph } from \"../lib/api\";\n\nexport default function GraphClient() {\n  const [graph, setGraph] = useState<{\n    nodes: { id: number; handle: string; persona_type: string }[];\n    edges: { source: number; target: number }[];\n  }>({ nodes: [], edges: [] });\n\n  useEffect(() => {\n    fetchGraph().then(setGraph).catch(() => null);\n  }, []);\n\n  const adjacency = useMemo(() => {\n    const map = new Map<number, number[]>();\n    graph.nodes.forEach((node) => map.set(node.id, []));\n    graph.edges.forEach((edge) => {\n      const list = map.get(edge.source) || [];\n      list.push(edge.target);\n      map.set(edge.source, list);\n    });\n    return map;\n  }, [graph]);\n\n  return (\n    <div className=\"layout\">\n      <aside className=\"sidebar\">\n        <h1>X Recommend</h1>\n        <a className=\"nav-item\" href=\"/\">Home</a>\n        <a className=\"nav-item\" href=\"/trends\">Trends</a>\n        <a className=\"nav-item\" href=\"/notifications\">Notifications</a>\n        <a className=\"nav-item\" href=\"/graph\">Follow Graph</a>\n        <a className=\"nav-item\" href=\"/profile/1\">Profile</a>\n      </aside>\n\n      <main className=\"main\">\n        <section className=\"card\">\n          <h2>Follow Graph</h2>\n          {graph.nodes.map((node) => {\n            const followees = adjacency.get(node.id) || [];\n            return (\n              <div key={node.id} className=\"trend-item\">\n                <strong>@{node.handle}</strong>\n                <div className=\"post-meta\">{node.persona_type}</div>\n                <div className=\"post-meta\">\n                  Follows: {followees.map((id) => graph.nodes.find((n) => n.id === id)?.handle).join(\", \")}\n                </div>\n              </div>\n            );\n          })}\n        </section>\n      </main>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKe,SAAS;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAG/B;QAAE,OAAO,EAAE;QAAE,OAAO,EAAE;IAAC;IAE1B,IAAA,kNAAS,EAAC;QACR,IAAA,wHAAU,IAAG,IAAI,CAAC,UAAU,KAAK,CAAC,IAAM;IAC1C,GAAG,EAAE;IAEL,MAAM,YAAY,IAAA,gNAAO,EAAC;QACxB,MAAM,MAAM,IAAI;QAChB,MAAM,KAAK,CAAC,OAAO,CAAC,CAAC,OAAS,IAAI,GAAG,CAAC,KAAK,EAAE,EAAE,EAAE;QACjD,MAAM,KAAK,CAAC,OAAO,CAAC,CAAC;YACnB,MAAM,OAAO,IAAI,GAAG,CAAC,KAAK,MAAM,KAAK,EAAE;YACvC,KAAK,IAAI,CAAC,KAAK,MAAM;YACrB,IAAI,GAAG,CAAC,KAAK,MAAM,EAAE;QACvB;QACA,OAAO;IACT,GAAG;QAAC;KAAM;IAEV,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAM,WAAU;;kCACf,8OAAC;kCAAG;;;;;;kCACJ,8OAAC;wBAAE,WAAU;wBAAW,MAAK;kCAAI;;;;;;kCACjC,8OAAC;wBAAE,WAAU;wBAAW,MAAK;kCAAU;;;;;;kCACvC,8OAAC;wBAAE,WAAU;wBAAW,MAAK;kCAAiB;;;;;;kCAC9C,8OAAC;wBAAE,WAAU;wBAAW,MAAK;kCAAS;;;;;;kCACtC,8OAAC;wBAAE,WAAU;wBAAW,MAAK;kCAAa;;;;;;;;;;;;0BAG5C,8OAAC;gBAAK,WAAU;0BACd,cAAA,8OAAC;oBAAQ,WAAU;;sCACjB,8OAAC;sCAAG;;;;;;wBACH,MAAM,KAAK,CAAC,GAAG,CAAC,CAAC;4BAChB,MAAM,YAAY,UAAU,GAAG,CAAC,KAAK,EAAE,KAAK,EAAE;4BAC9C,qBACE,8OAAC;gCAAkB,WAAU;;kDAC3B,8OAAC;;4CAAO;4CAAE,KAAK,MAAM;;;;;;;kDACrB,8OAAC;wCAAI,WAAU;kDAAa,KAAK,YAAY;;;;;;kDAC7C,8OAAC;wCAAI,WAAU;;4CAAY;4CACf,UAAU,GAAG,CAAC,CAAC,KAAO,MAAM,KAAK,CAAC,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,KAAK,QAAQ,IAAI,CAAC;;;;;;;;+BAJ7E,KAAK,EAAE;;;;;wBAQrB;;;;;;;;;;;;;;;;;;AAKV"}},
    {"offset": {"line": 263, "column": 0}, "map": {"version":3,"sources":["file:///home/dan/Projects/headstarter/x_recommend/frontend/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":"AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;;KAElC;IACL,IAAIF,QAAQC,GAAG,CAACK,yBAAyB,EAAE;;SAcpC;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1C,IAAIP,QAAQC,GAAG,CAACO,SAAS,eAAE;gBACzBL,OAAOC,OAAO,GAAGC,QAAQ;YAC3B,OAAO;;QAGT,OAAO;;IAOT;AACF","ignoreList":[0]}},
    {"offset": {"line": 282, "column": 0}, "map": {"version":3,"sources":["file:///home/dan/Projects/headstarter/x_recommend/frontend/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0]}},
    {"offset": {"line": 287, "column": 0}, "map": {"version":3,"sources":["file:///home/dan/Projects/headstarter/x_recommend/frontend/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n"],"names":["module","exports","require","vendored","React"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,KAAK","ignoreList":[0]}}]
}